OCAMLPACKS[]= compiler-libs.common ppx_tools.metaquot re.pcre ppxx typpx

OCAMLDEPFLAGS= -package ppx_tools.metaquot
OCAMLPPFLAGS=  

FILES[] =
    utils
    options
    unshadow
    klabel
    candidate
    crelated
    ctypeclass
    cderiving
    cppxderive
    spec
    specconv
    pre_imp
    pre_imp_spec
    pre_typeclass
    pre_imp_pack
    pre
    tysize
    mod
    ppx

# This drops dependency of typpx
# MyOCamlFindPackage(ppx_implicits, $(MyOCamlPPX ppx_implicits, $(FILES)))

targets=$(MyOCamlPPX ppx_implicits, $(FILES))
MyOCamlFindPackage(ppx_implicits, $(targets))

WithMerlin()

.PHONY:doc

doc:
    ocamlfind ocamldoc -html $(PREFIXED_OCAMLPACKS) spec.mli
